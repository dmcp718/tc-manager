# SiteCache Browser Production Environment Configuration
# Copy this file to .env and update with your production values

# Database Configuration
# IMPORTANT: Use a strong, unique password for production!
POSTGRES_PASSWORD=your_very_strong_password_here
DB_HOST=localhost  # Using host network mode
DB_PORT=5432
DB_NAME=sitecache_db
DB_USER=sitecache_user

# Application Configuration
NODE_ENV=production
PORT=3001
WEBSOCKET_PORT=3002

# LucidLink Configuration
LUCIDLINK_MOUNT_POINT=/media/lucidlink-1
INDEX_ROOT_PATH=/media/lucidlink-1
ALLOWED_PATHS=/media/lucidlink-1
LUCIDLINK_COMMAND=/usr/local/bin/lucid
LUCIDLINK_FS_1_PORT=7778
LUCIDLINK_API_HOST=127.0.0.1
LUCIDLINK_FILESPACE=your-production-filespace.domain
LUCIDLINK_USER=your-email@domain.com
LUCIDLINK_PASSWORD=your-secure-password
LUCID_S3_PROXY=http://YOUR_SERVER_IP:80
ENABLE_LUCIDLINK_STATS=true
LUCIDLINK_INCLUDE_GET_TIME=true

# Authentication (CRITICAL - change these!)
JWT_SECRET=GENERATE_SECURE_JWT_SECRET_HERE
JWT_EXPIRY=8h
ADMIN_USERNAME=admin
ADMIN_PASSWORD=GENERATE_STRONG_ADMIN_PASSWORD_HERE

# Frontend Configuration
# Frontend Configuration (production)
# Uses SERVER_HOST environment variable (REQUIRED for production)
REACT_APP_API_URL=https://${SERVER_HOST}/api
REACT_APP_WS_URL=wss://${SERVER_HOST}
REACT_APP_LUCIDLINK_MOUNT_POINT=/media/lucidlink-1
REACT_APP_GRAFANA_URL=https://${SERVER_HOST}:3000

# SSL Configuration (for Let's Encrypt or custom certificates)
SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
SSL_KEY_PATH=/etc/ssl/private/your-key.pem
DOMAIN_NAME=YOUR_SERVER_IP

# Elasticsearch Configuration
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX=sitecache-files
ELASTICSEARCH_SYNC_DELETIONS=true

# Performance Tuning
CACHE_WORKER_COUNT=4
MAX_CONCURRENT_FILES=5
WORKER_POLL_INTERVAL=2000
UV_THREADPOOL_SIZE=16
NODE_OPTIONS=--max-old-space-size=3072

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=/var/log/sitecache-browser

# Varnish Stats (optional)
ENABLE_VARNISH_STATS=false
VARNISH_STATS_INTERVAL=60000
VARNISH_CONTAINER_NAME=sitecache-varnish-1

# Video Transcoding Settings
# Video quality settings - adjust based on bandwidth and quality requirements
TRANSCODE_VIDEO_BITRATE=2800k        # Target video bitrate (lower = faster transcode, smaller files)
TRANSCODE_VIDEO_MAXRATE=3000k        # Maximum video bitrate (should be ~10% higher than target)
TRANSCODE_VIDEO_BUFSIZE=6000k        # Buffer size (should be ~2x maxrate)
TRANSCODE_VIDEO_WIDTH=1280           # Output video width (720p = 1280, 1080p = 1920)
TRANSCODE_VIDEO_HEIGHT=720           # Output video height (720p = 720, 1080p = 1080)

# Audio transcoding settings
TRANSCODE_AUDIO_BITRATE=128k         # Audio bitrate (64k/96k/128k/192k common values)
TRANSCODE_AUDIO_CODEC=aac            # Audio codec (aac recommended for web compatibility)
TRANSCODE_AUDIO_CHANNELS=2           # Audio channels (1 = mono, 2 = stereo)
TRANSCODE_AUDIO_SAMPLE_RATE=48000    # Audio sample rate (44100 or 48000 recommended)

# HLS streaming settings
TRANSCODE_HLS_SEGMENT_TIME=2         # HLS segment duration in seconds (1-10 typical range)
TRANSCODE_CONTAINER_FORMAT=hls       # Container format (hls for streaming, mp4 for direct)